<div class="relative">
  <!-- Profile Button -->
  <button (click)="toggleMenu()" class="relative flex rounded-full bg-card text-sm" type="button">
    <span class="sr-only">Open user menu</span>
    <img
      clickOutside
      (clickOutside)="isOpen = false"
      class="h-[40px] w-[40px] rounded-full"
      src="https://avatars.githubusercontent.com/u/12519008?v=4"
      alt="" />
  </button>
  @if(isOpen){
  <div
    [@openClose]="isOpen ? 'open' : 'closed'"
    [ngClass]="{'right-0': lang === 'en' , 'left-0': lang === 'ar' , 'origin-top-right': lang === 'en' , 'origin-top-left': lang === 'ar' ,  }"
    class="absolute z-20 mt-2 w-[300px] transform rounded-md bg-background py-4 shadow-custom ring-1 ring-transparent ring-opacity-5 transition focus:outline-none">
    <div class="flext-row flex items-center px-4 pb-4" [class.flex-row-reverse]="lang === 'ar'">
      <div class="w-[50px] shrink-0">
        <img class="h-[50px] w-[50px] rounded-full" src="https://avatars.githubusercontent.com/u/12519008?v=4" alt="" />
      </div>
      <div class="overflow-hidden px-2 text-[16px] font-bold text-black">
        AbdelHafiz Eltaher
        <p class="truncate text-ellipsis text-[16px] font-light text-gray-500">{{ 'abelhafizEltaher98@gmail.com' }}</p>
      </div>
    </div>

    <div class="border-b border-dashed border-border"></div>

    <ul class="my-2 mx-4 flex flex-col">
      <li
        [class.flex-row-reverse]="lang === 'ar'"
        class="inline-flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-xs font-semibold text-muted-foreground hover:bg-card hover:text-primary">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M12 12.75C8.83 12.75 6.25 10.17 6.25 7C6.25 3.83 8.83 1.25 12 1.25C15.17 1.25 17.75 3.83 17.75 7C17.75 10.17 15.17 12.75 12 12.75ZM12 2.75C9.66 2.75 7.75 4.66 7.75 7C7.75 9.34 9.66 11.25 12 11.25C14.34 11.25 16.25 9.34 16.25 7C16.25 4.66 14.34 2.75 12 2.75Z"
            fill="#404040" />
          <path
            d="M20.5901 22.75C20.1801 22.75 19.8401 22.41 19.8401 22C19.8401 18.55 16.3202 15.75 12.0002 15.75C7.68015 15.75 4.16016 18.55 4.16016 22C4.16016 22.41 3.82016 22.75 3.41016 22.75C3.00016 22.75 2.66016 22.41 2.66016 22C2.66016 17.73 6.85015 14.25 12.0002 14.25C17.1502 14.25 21.3401 17.73 21.3401 22C21.3401 22.41 21.0001 22.75 20.5901 22.75Z"
            fill="#404040" />
        </svg>
        <p class="text-[16px] font-medium  text-black">Profile Details</p>
      </li>

      <li
        [class.flex-row-reverse]="lang === 'ar'"
        class="inline-flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-xs font-semibold text-muted-foreground hover:bg-card hover:text-primary">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M12 15.75C9.93 15.75 8.25 14.07 8.25 12C8.25 9.93 9.93 8.25 12 8.25C14.07 8.25 15.75 9.93 15.75 12C15.75 14.07 14.07 15.75 12 15.75ZM12 9.75C10.76 9.75 9.75 10.76 9.75 12C9.75 13.24 10.76 14.25 12 14.25C13.24 14.25 14.25 13.24 14.25 12C14.25 10.76 13.24 9.75 12 9.75Z"
            fill="#404040" />
          <path
            d="M15.21 22.19C15 22.19 14.79 22.16 14.58 22.11C13.96 21.94 13.44 21.55 13.11 21L12.99 20.8C12.4 19.78 11.59 19.78 11 20.8L10.89 20.99C10.56 21.55 10.04 21.95 9.42 22.11C8.79 22.28 8.14 22.19 7.59 21.86L5.87 20.87C5.26 20.52 4.82 19.95 4.63 19.26C4.45 18.57 4.54 17.86 4.89 17.25C5.18 16.74 5.26 16.28 5.09 15.99C4.92 15.7 4.49 15.53 3.9 15.53C2.44 15.53 1.25 14.34 1.25 12.88V11.12C1.25 9.66004 2.44 8.47004 3.9 8.47004C4.49 8.47004 4.92 8.30004 5.09 8.01004C5.26 7.72004 5.19 7.26004 4.89 6.75004C4.54 6.14004 4.45 5.42004 4.63 4.74004C4.81 4.05004 5.25 3.48004 5.87 3.13004L7.6 2.14004C8.73 1.47004 10.22 1.86004 10.9 3.01004L11.02 3.21004C11.61 4.23004 12.42 4.23004 13.01 3.21004L13.12 3.02004C13.8 1.86004 15.29 1.47004 16.43 2.15004L18.15 3.14004C18.76 3.49004 19.2 4.06004 19.39 4.75004C19.57 5.44004 19.48 6.15004 19.13 6.76004C18.84 7.27004 18.76 7.73004 18.93 8.02004C19.1 8.31004 19.53 8.48004 20.12 8.48004C21.58 8.48004 22.77 9.67004 22.77 11.13V12.89C22.77 14.35 21.58 15.54 20.12 15.54C19.53 15.54 19.1 15.71 18.93 16C18.76 16.29 18.83 16.75 19.13 17.26C19.48 17.87 19.58 18.59 19.39 19.27C19.21 19.96 18.77 20.53 18.15 20.88L16.42 21.87C16.04 22.08 15.63 22.19 15.21 22.19ZM12 18.49C12.89 18.49 13.72 19.05 14.29 20.04L14.4 20.23C14.52 20.44 14.72 20.59 14.96 20.65C15.2 20.71 15.44 20.68 15.64 20.56L17.37 19.56C17.63 19.41 17.83 19.16 17.91 18.86C17.99 18.56 17.95 18.25 17.8 17.99C17.23 17.01 17.16 16 17.6 15.23C18.04 14.46 18.95 14.02 20.09 14.02C20.73 14.02 21.24 13.51 21.24 12.87V11.11C21.24 10.48 20.73 9.96004 20.09 9.96004C18.95 9.96004 18.04 9.52004 17.6 8.75004C17.16 7.98004 17.23 6.97004 17.8 5.99004C17.95 5.73004 17.99 5.42004 17.91 5.12004C17.83 4.82004 17.64 4.58004 17.38 4.42004L15.65 3.43004C15.22 3.17004 14.65 3.32004 14.39 3.76004L14.28 3.95004C13.71 4.94004 12.88 5.50004 11.99 5.50004C11.1 5.50004 10.27 4.94004 9.7 3.95004L9.59 3.75004C9.34 3.33004 8.78 3.18004 8.35 3.43004L6.62 4.43004C6.36 4.58004 6.16 4.83004 6.08 5.13004C6 5.43004 6.04 5.74004 6.19 6.00004C6.76 6.98004 6.83 7.99004 6.39 8.76004C5.95 9.53004 5.04 9.97004 3.9 9.97004C3.26 9.97004 2.75 10.48 2.75 11.12V12.88C2.75 13.51 3.26 14.03 3.9 14.03C5.04 14.03 5.95 14.47 6.39 15.24C6.83 16.01 6.76 17.02 6.19 18C6.04 18.26 6 18.57 6.08 18.87C6.16 19.17 6.35 19.41 6.61 19.57L8.34 20.56C8.55 20.69 8.8 20.72 9.03 20.66C9.27 20.6 9.47 20.44 9.6 20.23L9.71 20.04C10.28 19.06 11.11 18.49 12 18.49Z"
            fill="#404040" />
        </svg>
        <p class="text-[16px] font-medium  text-black">Settings</p>

        
      </li>

      <li
      (click)="logout()"
      [class.flex-row-reverse]="lang === 'ar'"
        class="inline-flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-xs font-semibold text-muted-foreground hover:bg-card hover:text-primary">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <mask id="path-1-inside-1_177_108104" fill="white">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M17.0738 6.40228C17.169 6.31071 17.2813 6.23879 17.4043 6.19063C17.5273 6.14248 17.6585 6.11904 17.7906 6.12166C17.9227 6.12427 18.0529 6.15289 18.1739 6.20587C18.2949 6.25885 18.4042 6.33515 18.4957 6.43043L23.1729 11.3045C23.3523 11.4916 23.4525 11.7408 23.4525 12.0001C23.4525 12.2593 23.3523 12.5085 23.1729 12.6956L18.4957 17.5697C18.4043 17.6649 18.295 17.7412 18.1741 17.7941C18.0532 17.8471 17.923 17.8758 17.7911 17.8784C17.6591 17.8811 17.5279 17.8578 17.4049 17.8097C17.282 17.7617 17.1697 17.6899 17.0745 17.5985C16.9793 17.5071 16.903 17.3978 16.85 17.2769C16.797 17.156 16.7684 17.0258 16.7657 16.8939C16.763 16.7619 16.7864 16.6307 16.8344 16.5077C16.8824 16.3848 16.9542 16.2725 17.0457 16.1773L20.0892 13.0052H10.7522C10.4856 13.0052 10.23 12.8993 10.0415 12.7108C9.85297 12.5223 9.74707 12.2666 9.74707 12.0001C9.74707 11.7335 9.85297 11.4778 10.0415 11.2893C10.23 11.1008 10.4856 10.9949 10.7522 10.9949H20.0905L17.0457 7.82283C16.8613 7.6305 16.7608 7.37283 16.7664 7.10646C16.7719 6.84008 16.8829 6.58681 17.0751 6.40228" />
          </mask>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M17.0738 6.40228C17.169 6.31071 17.2813 6.23879 17.4043 6.19063C17.5273 6.14248 17.6585 6.11904 17.7906 6.12166C17.9227 6.12427 18.0529 6.15289 18.1739 6.20587C18.2949 6.25885 18.4042 6.33515 18.4957 6.43043L23.1729 11.3045C23.3523 11.4916 23.4525 11.7408 23.4525 12.0001C23.4525 12.2593 23.3523 12.5085 23.1729 12.6956L18.4957 17.5697C18.4043 17.6649 18.295 17.7412 18.1741 17.7941C18.0532 17.8471 17.923 17.8758 17.7911 17.8784C17.6591 17.8811 17.5279 17.8578 17.4049 17.8097C17.282 17.7617 17.1697 17.6899 17.0745 17.5985C16.9793 17.5071 16.903 17.3978 16.85 17.2769C16.797 17.156 16.7684 17.0258 16.7657 16.8939C16.763 16.7619 16.7864 16.6307 16.8344 16.5077C16.8824 16.3848 16.9542 16.2725 17.0457 16.1773L20.0892 13.0052H10.7522C10.4856 13.0052 10.23 12.8993 10.0415 12.7108C9.85297 12.5223 9.74707 12.2666 9.74707 12.0001C9.74707 11.7335 9.85297 11.4778 10.0415 11.2893C10.23 11.1008 10.4856 10.9949 10.7522 10.9949H20.0905L17.0457 7.82283C16.8613 7.6305 16.7608 7.37283 16.7664 7.10646C16.7719 6.84008 16.8829 6.58681 17.0751 6.40228"
            fill="#404040" />
          <path
            d="M18.4957 6.43043L19.2008 5.75384L19.2006 5.75362L18.4957 6.43043ZM23.1729 11.3045L23.8784 10.6283L23.878 10.6279L23.1729 11.3045ZM23.1729 12.6956L23.878 13.3722L23.8784 13.3718L23.1729 12.6956ZM18.4957 17.5697L19.2006 18.2465L19.2008 18.2463L18.4957 17.5697ZM17.0457 16.1773L17.7505 16.8541L17.7508 16.8538L17.0457 16.1773ZM20.0892 13.0052L20.7943 13.6817L22.381 12.028H20.0892V13.0052ZM20.0905 10.9949V11.9721H22.383L20.7955 10.3183L20.0905 10.9949ZM17.0457 7.82283L16.3402 8.49904L16.3407 8.49953L17.0457 7.82283ZM17.7513 7.10645C17.754 7.10391 17.7571 7.10191 17.7605 7.10057L17.048 5.2807C16.8055 5.37566 16.584 5.5175 16.3963 5.69811L17.7513 7.10645ZM17.7605 7.10057C17.7639 7.09923 17.7676 7.09858 17.7713 7.09865L17.8099 5.14466C17.5495 5.13951 17.2906 5.18573 17.048 5.2807L17.7605 7.10057ZM17.7713 7.09865C17.7749 7.09872 17.7786 7.09952 17.7819 7.10099L18.5659 5.31074C18.3272 5.20625 18.0704 5.14982 17.8099 5.14466L17.7713 7.09865ZM17.7819 7.10099C17.7853 7.10247 17.7883 7.10459 17.7909 7.10724L19.2006 5.75362C19.0202 5.56572 18.8045 5.41522 18.5659 5.31074L17.7819 7.10099ZM17.7907 7.10701L22.4679 11.9811L23.878 10.6279L19.2008 5.75384L17.7907 7.10701ZM22.4675 11.9807C22.4725 11.9859 22.4753 11.9929 22.4753 12.0001H24.4296C24.4296 11.4888 24.2321 10.9974 23.8784 10.6283L22.4675 11.9807ZM22.4753 12.0001C22.4753 12.0072 22.4725 12.0142 22.4675 12.0194L23.8784 13.3718C24.2321 13.0028 24.4296 12.5113 24.4296 12.0001H22.4753ZM22.4679 12.019L17.7907 16.8931L19.2008 18.2463L23.878 13.3722L22.4679 12.019ZM17.7909 16.8928C17.7884 16.8955 17.7853 16.8976 17.7819 16.8991L18.5663 18.6892C18.8047 18.5847 19.0202 18.4343 19.2006 18.2465L17.7909 16.8928ZM17.7819 16.8991C17.7786 16.9006 17.7749 16.9014 17.7713 16.9014L17.8109 18.8554C18.0712 18.8501 18.3278 18.7936 18.5663 18.6892L17.7819 16.8991ZM17.7713 16.9014C17.7676 16.9015 17.7639 16.9009 17.7605 16.8995L17.0494 18.7199C17.2918 18.8147 17.5506 18.8607 17.8109 18.8554L17.7713 16.9014ZM17.7605 16.8995C17.7571 16.8982 17.7539 16.8962 17.7513 16.8936L16.3977 18.3033C16.5854 18.4836 16.8069 18.6252 17.0494 18.7199L17.7605 16.8995ZM17.7513 16.8936C17.7486 16.8911 17.7465 16.8881 17.745 16.8847L15.955 17.6691C16.0595 17.9075 16.2099 18.123 16.3977 18.3033L17.7513 16.8936ZM17.745 16.8847C17.7436 16.8813 17.7428 16.8777 17.7427 16.874L15.7887 16.9137C15.794 17.1739 15.8505 17.4306 15.955 17.6691L17.745 16.8847ZM17.7427 16.874C17.7426 16.8704 17.7433 16.8667 17.7446 16.8633L15.9242 16.1521C15.8295 16.3946 15.7835 16.6534 15.7887 16.9137L17.7427 16.874ZM17.7446 16.8633C17.7459 16.8599 17.7479 16.8568 17.7505 16.8541L16.3408 15.5004C16.1605 15.6882 16.0189 15.9097 15.9242 16.1521L17.7446 16.8633ZM17.7508 16.8538L20.7943 13.6817L19.3841 12.3286L16.3405 15.5007L17.7508 16.8538ZM20.0892 12.028H10.7522V13.9823H20.0892V12.028ZM10.7522 12.028C10.7448 12.028 10.7377 12.025 10.7324 12.0198L9.3505 13.4018C9.72226 13.7735 10.2265 13.9823 10.7522 13.9823V12.028ZM10.7324 12.0198C10.7272 12.0145 10.7243 12.0074 10.7243 12.0001H8.76988C8.76988 12.5258 8.97874 13.03 9.3505 13.4018L10.7324 12.0198ZM10.7243 12.0001C10.7243 11.9927 10.7272 11.9856 10.7324 11.9803L9.3505 10.5984C8.97874 10.9701 8.76988 11.4743 8.76988 12.0001H10.7243ZM10.7324 11.9803C10.7377 11.9751 10.7448 11.9721 10.7522 11.9721V10.0178C10.2265 10.0178 9.72226 10.2266 9.3505 10.5984L10.7324 11.9803ZM10.7522 11.9721H20.0905V10.0178H10.7522V11.9721ZM20.7955 10.3183L17.7506 7.14614L16.3407 8.49953L19.3856 11.6716L20.7955 10.3183ZM17.7511 7.14662C17.746 7.14128 17.7432 7.13413 17.7433 7.12673L15.7894 7.08618C15.7785 7.61153 15.9766 8.11971 16.3402 8.49904L17.7511 7.14662ZM17.7433 7.12673C17.7435 7.11934 17.7466 7.11231 17.7519 7.10718L16.3984 5.69739C16.0193 6.0613 15.8003 6.56083 15.7894 7.08618L17.7433 7.12673Z"
            fill="#404040"
            mask="url(#path-1-inside-1_177_108104)" />
          <path
            d="M13.1599 2.28402V1.79542H12.6713H2.01026H1.52167V2.28402V21.7161V22.2047H2.01026H12.67H13.1586V21.7161V18.7007C13.1586 18.5638 13.213 18.4324 13.3099 18.3355C13.4067 18.2387 13.5381 18.1842 13.6751 18.1842C13.8121 18.1842 13.9435 18.2387 14.0404 18.3355C14.1373 18.4324 14.1917 18.5638 14.1917 18.7007V22.7212C14.1917 22.8582 14.1373 22.9895 14.0404 23.0864C13.9435 23.1833 13.8121 23.2377 13.6751 23.2377H1.00513C0.868131 23.2377 0.736747 23.1833 0.639879 23.0864C0.543011 22.9895 0.488593 22.8582 0.488593 22.7212V1.27891C0.488593 1.14193 0.543011 1.01055 0.639879 0.913684C0.736748 0.816818 0.868132 0.762397 1.00513 0.762397H13.6765C13.8135 0.762397 13.9449 0.816818 14.0417 0.913684C14.1386 1.01055 14.193 1.14193 14.193 1.27891V5.29933C14.193 5.43632 14.1386 5.56769 14.0417 5.66456C13.9449 5.76143 13.8135 5.81585 13.6765 5.81585C13.5395 5.81585 13.4081 5.76143 13.3112 5.66456C13.2144 5.56769 13.1599 5.43632 13.1599 5.29933V2.28402Z"
            fill="#404040"
            stroke="#404040"
            stroke-width="0.977186" />
        </svg>
        <p class="text-[16px] font-medium text-black"> Sing Out</p>

       
      </li>
    </ul>
    <hr class="border-dashed border-border" />
    <div class="mx-4 my-2">
      <div class="mt-2 grid grid-cols-2 gap-2">
        @for (item of themeColors; track $index) {
        <div
          :key="$index"
          (click)="toggleThemeColor(item.name)"
          [ngClass]="{ 'border-muted-foreground bg-card': item.name == themeService.theme().color }"
          class="focus-visible:ring-ring inline-flex h-8 cursor-pointer items-center justify-start whitespace-nowrap rounded-md border border-border bg-background px-3 text-xs font-medium text-muted-foreground shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50 hover:bg-card hover:text-foreground">
          <span
            [style.backgroundColor]="item.code"
            class="mx-1 flex h-5 w-5 shrink-0 -translate-x-1 items-center justify-center rounded-full bg-rose-500"></span>
          <p class="mx-2 capitalize">{{ item.name }}</p>
        </div>
        }
      </div>
    </div>
    <hr class="border-dashed border-border" />
    <div class="mx-4 my-2">
      <div class="mt-2 grid grid-cols-2 gap-2">
        @for (item of themeMode; track $index) {
        <div
          :key="$index"
          (click)="toggleThemeMode()"
          [ngClass]="{ 'border-muted-foreground bg-card': item == themeService.theme().mode }"
          class="focus-visible:ring-ring inline-flex h-8 cursor-pointer items-center justify-start whitespace-nowrap rounded-md border border-border bg-background px-3 text-xs font-medium text-muted-foreground shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50 hover:bg-card hover:text-foreground">
          <svg-icon
            [src]="
              item == 'light' ? 'assets/icons/heroicons/outline/sun.svg' : 'assets/icons/heroicons/outline/moon.svg'
            "
            [svgClass]="'h-5 mr-2 w-5 text-muted-foreground/50'">
          </svg-icon>
          <p class="capitalize">{{ item }}</p>
        </div>
        }
      </div>
    </div>
  </div>
  }
</div>
